{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>This site for private documentation.</p>"},{"location":"_pages/about/","title":"About","text":"<p>This is an about page.</p>"},{"location":"blog/","title":"Blog","text":""},{"location":"blog/2025/01/20/mpcmulti-party-computation/","title":"MPC(Multi-Party Computation)","text":""},{"location":"blog/2025/01/20/mpcmulti-party-computation/#mpc-\ub85c-\ud3c9\uade0\uc5f0\ubd09-\uad6c\ud558\uae30","title":"MPC \ub85c \ud3c9\uade0\uc5f0\ubd09 \uad6c\ud558\uae30","text":""},{"location":"blog/2025/01/20/mpcmulti-party-computation/#\ubc29\ubc95-1","title":"\ubc29\ubc95 1","text":"<ul> <li>Multiparty Computation - youtube</li> </ul> <p>A, B, C 3\uba85\uc758 \ud3c9\uade0 \uc5f0\ubd09\uc744 \uad6c\ud558\ub824\uace0 \ud560 \ub54c A, B, C \uac00 \uc790\uc2e0\uc758 \uc5f0\ubd09\uc744 \uc11c\ub85c \uacf5\uc720\ud558\uc9c0 \uc54a\uace0 \ud3c9\uade0\uc744 \uacc4\uc0b0\ud558\ub294 \ubc29\ubc95</p> party \uc5f0\ubd09 A 100 B 150 C 200 <ul> <li>random(r)\uc744 \uc784\uc758\uc758 \uac12(30)\uc73c\ub85c \uc815\ud55c\ub2e4</li> <li><code>m1 = A \uc5f0\ubd09 + r</code> \uc744 B \uc5d0\uac8c \uc804\ub2ec   <code>m1 = 100 + 30 = 130</code></li> <li><code>m2 = B \uc5f0\ubd09 + m1</code> \uc744 C \uc5d0\uac8c \uc804\ub2ec   <code>m2 = 150 + 130 = 280</code></li> <li><code>m3 = C \uc5f0\ubd09 + m2</code> \uc744 A \uc5d0\uac8c \uc804\ub2ec   <code>m3 = 200 + 280 = 480</code></li> <li><code>avg = (m3 - r) / 3</code> \uc744 B, C \uc5d0\uac8c \uacf5\uc720   <code>avg = (480 - 30) / 3 = 450 / 3 = 150</code></li> <li>A, B, C \ub294 \uc11c\ub85c\uc758 \uc5f0\ubd09\uc744 \ubaa8\ub974\uc9c0\ub9cc \ud3c9\uade0\uc5f0\ubd09\uc774 150 \uc774\ub77c\ub294 \uac83\uc744 \uacc4\uc0b0\ud560 \uc218 \uc788\ub2e4</li> </ul>"},{"location":"blog/2025/01/20/mpcmulti-party-computation/#\ubc29\ubc95-2","title":"\ubc29\ubc95 2","text":"<p>Secure Multi-Party Computation</p>"},{"location":"blog/2025/01/20/mpcmulti-party-computation/#2-party-computation-with-ecdsa-yehuda-lindell","title":"2 party Computation with ECDSA (Yehuda Lindell)","text":"<p>Note</p> <ul> <li>Elliptic Curve Digital Signature Algorithm</li> <li>https://github.com/ethereumbook/ethereumbook/blob/develop/06transactions.asciidoc#how-digital-signatures-work</li> </ul> <ul> <li>DKG(Distributed Key Generation)<ul> <li>Distributed Key Generation</li> <li>What Distributed Key Generation Is</li> </ul> </li> <li>ECDSA is not that bad: two-party signing without Schnorr or BLS<ul> <li>Common Public Key<ul> <li><code>P=pk1\u00d7P2=pk2\u00d7P1=pk1\u22c5pk2\u00d7G</code></li> </ul> </li> <li>Signature (r, s)<ul> <li><code>r=k1\u00d7R2=k2\u00d7R1=k1\u22c5k2\u00d7G</code></li> <li><code>s=(z+r\u22c5pk1\u22c5pk2)/k1/k2</code></li> </ul> </li> </ul> </li> </ul> <p></p> <p>Simplified diagram of 2-party ECDSA signing. Blue values are public points, red values are secret, orange text represents homomorphic encryption and decryption.</p>"},{"location":"blog/2025/01/20/mpcmulti-party-computation/#mpc-implementations","title":"MPC Implementations","text":"<ul> <li>https://github.com/bnb-chain/tss-lib</li> <li>https://github.com/ZenGo-X/gotham-city</li> <li>https://github.com/fireblocks/mpc-lib</li> <li>python MPC<ul> <li>https://github.com/lschoe/mpyc</li> </ul> </li> <li>https://github.com/rdragos/awesome-mpc</li> <li>https://github.com/ZenGo-X/awesome-tss</li> </ul>"},{"location":"blog/2022/02/17/merkle-patricia-tree/","title":"Merkle Patricia Tree","text":"<p>merkle tree &amp; patricia tree</p>"},{"location":"blog/2022/02/17/merkle-patricia-tree/#merkle-tree","title":"Merkle Tree","text":""},{"location":"blog/2022/02/17/merkle-patricia-tree/#patricia-tree-radix-tree","title":"Patricia Tree (Radix Tree)","text":"<p>radix \ub294 \uae30\uc218\ub97c \uc758\ubbf8\ud55c\ub2e4  <pre><code>the base of a system of numeration.\n</code></pre></p> <p>PATRICA - Practical Algorithm To Retrieve Information Coded In Alphanumeric</p> <ul> <li>empty node</li> <li>extension node</li> <li>branch node</li> <li>leaf node</li> </ul> <p>key - value \ub97c \uc5b4\ub5bb\uac8c \ud45c\ud604\ud560 \uac83\uc778\uac00?</p> <p>## Reference  - https://en.wikipedia.org/wiki/Merkle_tree  - https://ethereum.stackexchange.com/a/6424  - https://medium.com/coinmonks/data-structure-in-ethereum-episode-3-patricia-trie-b7b0ccddd32f</p>"},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/","title":"github action \uc73c\ub85c AWS EC2 \uc5d0 \ubc30\ud3ec\ud558\uae30","text":"<p>github private repo \uc5d0\uc11c github private package(ghcr.io) \ub85c docker image \ub97c \ube4c\ub4dc\ud558\uace0 \uc800\uc7a5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. docker image \ub97c \ube4c\ub4dc\ud558\uace0 \uc774\ubbf8\uc9c0\ub97c ghcr.io \uc5d0 \uc800\uc7a5\ud558\ub294 \uac83\uae4c\uc9c0\ub294 github action \uc73c\ub85c \uc790\ub3d9\ud654 \ub418\uc5b4 \uc788\uc9c0\ub9cc EC2 \uc11c\ubc84\uc5d0\ub294 \uc218\ub3d9\uc73c\ub85c \ubc30\ud3ec\ud558\ub294 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c github action \uc73c\ub85c \uc790\ub3d9\ud654\ud558\ub294 \ubc29\ubc95\uc744 \uc815\ub9ac\ud588\uc2b5\ub2c8\ub2e4.</p> <p>Note</p> <p>ghcr.io \uc5d0 \uc800\uc7a5\ub41c \uc774\ubbf8\uc9c0\ub97c EC2 \uc11c\ubc84\uc5d0 \uc790\ub3d9\uc73c\ub85c \ubc30\ud3ec\ud558\ub294 \uac83\uae4c\uc9c0 github action \uc73c\ub85c \ucc98\ub9ac\ud558\ub294 \uac83\uc774 \ubaa9\ud45c\uc785\ub2c8\ub2e4.</p>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#continuous-deployment-\uc804\ub7b5","title":"Continuous Deployment \uc804\ub7b5","text":"<pre><code>flowchart TD\n    flow1(docker image build)\n    flow2(ghcr.io \uc5d0 publish)\n    flow3(ghcr.io \uc5d0 \uc800\uc7a5\ub41c image \ub97c AWS ECR \ub85c \ubbf8\ub7ec\ub9c1)\n    flow4(AWS ECR \uc5d0 \ubbf8\ub7ec\ub9c1\ub41c \uc774\ubbf8\uc9c0\ub97c EC2 \uc5d0 \ubc30\ud3ec)\n    flow1 --&gt; flow2\n    flow2 --&gt; flow3\n    flow3 --&gt; flow4</code></pre>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#github-action-\uc124\uc815","title":"Github Action \uc124\uc815","text":"","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#\ud658\uacbd-\ubcc0\uc218-secret-\uc124\uc815","title":"\ud658\uacbd \ubcc0\uc218, Secret \uc124\uc815","text":"<p>Github Action workflow \uc5d0\uc11c \uc0ac\uc6a9\ud560 Secret \uacfc \ud658\uacbd\ubcc0\uc218\ub97c \uc124\uc815\ud569\ub2c8\ub2e4.</p>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#secret","title":"Secret","text":"<ul> <li><code>EC2_INSTANCE_ID</code> : AWS EC2 instance id</li> <li><code>ECR_REPOSITORY</code> : AWS ECR repository \uc774\ub984</li> <li><code>AWS_ROLE_TO_ASSUME</code>: AWS credential</li> </ul>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#variable","title":"Variable","text":"<ul> <li><code>AWS_REGION</code> : AWS region \uc774\ub984(e.g., <code>ap-northeast-2</code>)</li> <li><code>APP_DIR</code> : deploy \ud560 app directory</li> <li><code>DEPLOY_DIRNAME</code> : <code>APP_DIR</code> \ud558\uc704\uc5d0 github private repo \ub97c clone \ud560 directory \uc774\ub984</li> <li><code>DEPLOY_KEY_NAME</code> : github private repo \ub97c clone \ud558\uae30 \uc704\ud55c deploy key \uac00 \uc800\uc7a5\ub41c Parameter Store \uc774\ub984</li> <li><code>DEPLOY_KEY_PATH</code> : Parameter Store \uc5d0\uc11c \uac00\uc838\uc628 deploy key \ub97c \uc800\uc7a5\ud560 \uacbd\ub85c (e.g., <code>/run/secrets/deploy_key</code>)</li> </ul>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#secret-\uad00\ub9ac","title":"Secret \uad00\ub9ac","text":"<p>\ubc30\ud3ec\ud560 app \uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 Secret \uc815\ubcf4\ub4e4\uc744 EC2 \uc5d0\uc11c \uc548\uc804\ud558\uac8c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574 Parameter Store \ub97c \uc0ac\uc6a9\ud55c\ub2e4</p>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#aws-parameter-store","title":"AWS Parameter Store","text":"<ul> <li>Parameter Store</li> </ul> <p>AWS Systems Manager\uc758 \ub3c4\uad6c\uc778 Parameter Store\ub294 \uad6c\uc131 \ub370\uc774\ud130 \uad00\ub9ac \ubc0f \ube44\ubc00 \uad00\ub9ac\ub97c \uc704\ud55c \uc548\uc804\ud55c \uacc4\uce35\uc801 \uc2a4\ud1a0\ub9ac\uc9c0\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc554\ud638, \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ubb38\uc790\uc5f4, Amazon Machine Image(AMI) ID, \ub77c\uc774\uc120\uc2a4 \ucf54\ub4dc\uc640 \uac19\uc740 \ub370\uc774\ud130\ub97c \ud30c\ub77c\ubbf8\ud130 \uac12\uc73c\ub85c \uc800\uc7a5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uac12\uc744 \uc77c\ubc18 \ud14d\uc2a4\ud2b8 \ub610\ub294 \uc554\ud638\ud654\ub41c \ub370\uc774\ud130\ub85c \uc800\uc7a5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>AWS Secrets Manager</p> <p>AWS Secrets Manager \ub97c \uc0ac\uc6a9\ud558\uba74 \uc218\uba85 \uc8fc\uae30 \ub3d9\uc548 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc790\uaca9 \uc99d\uba85, \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc790\uaca9 \uc99d\uba85, OAuth \ud1a0\ud070, API \ud0a4 \ubc0f \uae30\ud0c0 \ubcf4\uc548 \uc554\ud638\ub97c \uad00\ub9ac, \uac80\uc0c9 \ubc0f \uad50\uccb4\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#build-and-publish","title":"build and publish","text":"<p>\ubc30\ud3ec\ud560 \uc774\ubbf8\uc9c0\ub97c build \ud558\uace0 container registry(ghcr.io) \uc5d0 push \ud569\ub2c8\ub2e4.</p>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#workflow-\uc791\uc131-\ub2e8\uacc4","title":"workflow \uc791\uc131 \ub2e8\uacc4","text":"<ol> <li>docker build \ub97c \uc704\ud55c \ud658\uacbd \uc124\uc815 (docker/setup-qemu-action, docker/setup-buildx-action)</li> <li>ghcr.io \ub85c\uadf8\uc778 (docker/login-action)</li> <li>docker build \ub97c \uc704\ud55c metadata \ucd94\ucd9c (docker/metadata-action)</li> <li>docker \ube4c\ub4dc \ubc0f image push (docker/build-push-action)</li> </ol>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#build_and_publishyml-workflow-\uc608\uc81c","title":"build_and_publish.yml workflow \uc608\uc81c","text":"<pre><code>name: Build and Publish\n\non:\n  pull_request:\n    branches: [\"main\"]\n  push:\n    branches: [\"main\"]\n  workflow_dispatch:\n    inputs:\n      container_registry:\n        description: 'Select container registry for production'\n        required: true\n        default: 'ghcr'\n        type: choice\n        options:\n        - ghcr\n        - ecr\n\nenv:\n  CONTAINER_REGISTRY: ${{ github.event_name == 'workflow_dispatch' &amp;&amp; inputs.container_registry || 'ghcr' }}\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: write\n      packages: write\n    steps:\n      - name: Set up QEMU\n        uses: docker/setup-qemu-action@v3\n\n      - name: Set up Docker Buildx\n        uses: docker/setup-buildx-action@v3\n\n      - name: Log in to GHCR\n        if: github.event_name != 'pull_request' &amp;&amp; env.CONTAINER_REGISTRY == 'ghcr'\n        uses: docker/login-action@v3\n        with:\n          registry: ghcr.io\n          username: ${{ github.actor }}\n          password: ${{ secrets.GITHUB_TOKEN }}\n\n      - name: Extract metadata (tags, labels) for Docker\n        id: meta\n        env:\n          REPOSITORY: 'repository/tagname'\n          REGISTRY_HOST: 'ghcr.io'\n        uses: docker/metadata-action@v5\n        with:\n          images: ${{ env.REGISTRY_HOST }}/${{ env.REPOSITORY }}\n          flavor: |\n            latest=false\n          tags: |\n            type=raw,value=latest,enable={{is_default_branch}}\n            type=raw,value={{date 'YYYY-MM-DD' tz='Asia/Seoul'}},enable={{is_default_branch}}\n            type=ref,event=pr\n            type=sha\n          labels: |\n            org.opencontainers.image.source=https://github.com/owner/reponame\n            org.opencontainers.image.description=\"image description\"\n\n      - name: Build and push to selected registry\n        id: build\n        uses: docker/build-push-action@v6\n        with:\n          context: .\n          target: prod\n          push: ${{ github.event_name != 'pull_request' }}\n          platforms: linux/amd64,linux/arm64\n          tags: ${{ steps.meta.outputs.tags }}\n          labels: ${{ steps.meta.outputs.labels }}\n          cache-from: type=gha,scope=${{ env.CONTAINER_REGISTRY }}\n          cache-to: type=gha,mode=max,scope=${{ env.CONTAINER_REGISTRY }}\n</code></pre>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#container-registry","title":"Container registry","text":"","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#ghcrio-github-container-registry","title":"ghcr.io (Github Container Registry)","text":"<ul> <li>main docker \uc774\ubbf8\uc9c0 \uc800\uc7a5\uc18c</li> </ul>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#aws-ecrelastic-container-registry","title":"AWS ECR(Elastic Container Registry)","text":"<ul> <li>mirroring docker \uc774\ubbf8\uc9c0 \uc800\uc7a5\uc18c</li> </ul> <p>Warning</p> <p>AWS EC2 \uc5d0\uc11c ghcr.io \uc5d0 private \uc73c\ub85c \uc800\uc7a5\ub41c image \ub97c \ubc1b\uc544\uc624\ub3c4\ub85d \uc790\ub3d9\ud654\ub97c \ud574\uc57c \ud558\ub294\ub370, \uc790\ub3d9\ud654\ub97c \ud574\uacb0\ud560 \uc6b0\uc544\ud55c \ubc29\ubc95\uc774 \uc5c6\uae30 \ub54c\ubb38\uc5d0 AWS ECR \uc5d0 mirroring \ud558\ub294 \ubc29\ubc95\uc744 \uc120\ud0dd https://github.com/orgs/community/discussions/24636</p>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#deploy","title":"deploy","text":"<p>container registry \uc5d0 push \ub41c \uc774\ubbf8\uc9c0\ub97c AWS EC2 \uc5d0 pull \ubc1b\uc544 container \ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4.</p>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#\ub2e8\uacc4\ubcc4-\ud655\uc778-\ud6c4-workflow-\uc791\uc131","title":"\ub2e8\uacc4\ubcc4 \ud655\uc778 \ud6c4 workflow \uc791\uc131","text":"<ol> <li>ghcr.io \uc5d0\uc11c \uc774\ubbf8\uc9c0\ub97c \ub0b4\ub824\ubc1b\uc544 ECR \ub85c \ubbf8\ub7ec\ub9c1</li> <li>EC2 \uc5d0\uc11c ECR \uc774\ubbf8\uc9c0\ub97c \ub0b4\ub824\ubc1b\uae30</li> <li>\uc2e4\ud589\uc911\uc778 docker container \ub97c \uc911\ub2e8\ud558\uace0 \ub0b4\ub824\ubc1b\uc740 \uc0c8 image \ub85c \uc2e4\ud589</li> <li>ECR \uc5d0 \ubbf8\ub7ec\ub9c1\ud55c \uc774\ubbf8\uc9c0\ub97c \uc0ad\uc81c</li> </ol> <pre><code>jobs:\n  deploy:\n    runs-on: ubuntu-latest\n    environment: production\n    permissions:\n      contents: read\n      packages: read\n      id-token: write\n    env:\n      GHCR_IMAGE_NAME: 'ghcr.io/repository/tagname:latest'\n      AWS_REGION: ${{ vars.AWS_REGION }}\n\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v5\n        with:\n          sparse-checkout: |\n            scripts\n\n      - name: Log in to GHCR\n        if: env.CONTAINER_REGISTRY == 'ghcr'\n        uses: docker/login-action@v3\n        with:\n          registry: ghcr.io\n          username: ${{ github.actor }}\n          password: ${{ secrets.GITHUB_TOKEN }}\n\n      - name: Configure AWS credentials\n        uses: aws-actions/configure-aws-credentials@v5\n        with:\n          role-to-assume: ${{ secrets.AWS_ROLE_TO_ASSUME }}\n          aws-region: ${{ env.AWS_REGION }}\n\n      - name: Login to AWS ECR\n        id: login-ecr\n        uses: aws-actions/amazon-ecr-login@v2\n\n      - name: Set env for ECR\n        run: |\n          REGISTRY_HOST=${{ steps.login-ecr.outputs.registry }}\n          echo \"ECR_REGISTRY_HOST=$REGISTRY_HOST\" &gt;&gt; $GITHUB_ENV\n          echo \"ECR_IMAGE_NAME=$REGISTRY_HOST/${{ secrets.ECR_REPOSITORY }}:latest\" &gt;&gt; $GITHUB_ENV\n\n      - name: Mirroring GHCR to AWS ECR\n        if: env.CONTAINER_REGISTRY == 'ghcr'\n        run: |\n          docker buildx imagetools create -t ${{ env.ECR_IMAGE_NAME }} ${{ env.GHCR_IMAGE_NAME }}\n          DIGEST=$(docker buildx imagetools inspect --format='{{ json .Manifest.Digest }}' ${{ env.ECR_IMAGE_NAME }})\n          echo \"ECR_MANIFEST_DIGEST=$DIGEST\" &gt;&gt; $GITHUB_ENV\n\n      - name: Install uv\n        uses: astral-sh/setup-uv@v6\n\n      - name: Deploy to AWS EC2 with boto3\n        env:\n          EC2_INSTANCE_ID: ${{ secrets.EC2_INSTANCE_ID }}\n          APP_DIR: ${{ vars.APP_DIR }}\n          DEPLOY_DIRNAME: ${{ vars.DEPLOY_DIRNAME }}\n          DEPLOY_KEY_NAME: ${{ vars.DEPLOY_KEY_NAME }}\n          DEPLOY_KEY_PATH: ${{ vars.DEPLOY_KEY_PATH }}\n        run: uv run scrpits/deploy.py\n\n      - name: Delete mirroring image\n        if: env.CONTAINER_REGISTRY == 'ghcr'\n        run: |\n          TAGGED_IDS=$(aws ecr list-images --repository-name ${{ secrets.ECR_REPOSITORY }} --query 'imageIds[*]' --filter tagStatus=TAGGED)\n          aws ecr batch-delete-image --repository-name ${{ secrets.ECR_REPOSITORY }} --image-ids \"$TAGGED_IDS\"\n\n          IMAGE_IDS=$(aws ecr list-images --repository-name ${{ secrets.ECR_REPOSITORY }} --query 'imageIds[*]')\n          aws ecr batch-delete-image --repository-name ${{ secrets.ECR_REPOSITORY }} --image-ids \"$IMAGE_IDS\"\n</code></pre>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#aws-ssmsimple-system-manager","title":"AWS ssm(Simple System Manager)","text":"<p>ssm \uc73c\ub85c EC2 \uc5d0 \ubc30\ud3ec \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc2e4\ud589\ud558\ub3c4\ub85d \uba85\ub839\uc744 \ubcf4\ub0c5\ub2c8\ub2e4.</p>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#deploy-script-with-boto3","title":"deploy script with boto3","text":"<pre><code># /// script\n# requires-python = \"&gt;=3.13\"\n# dependencies = [\n#    \"boto3~=1.40\",\n# ]\n# ///\n\nimport os\nimport boto3\n\nEC2_INSTANCE_ID = os.getenv(\"EC2_INSTANCE_ID\")\nSTEP_SUMMARY = os.getenv(\"GITHUB_STEP_SUMMARY\")\n\nscripts_template = \"\"\"\n#!/bin/bash\nset -e\n\necho \"## Start deployment script.\"\n\nmkdir -p /run/secrets\nchmod 700 /run/secrets\n\naws ssm get-parameter --name \"${DEPLOY_KEY_NAME}\" \\\n    --with-decryption --query Parameter.Value \\\n    --output text &gt; ${DEPLOY_KEY_PATH}\n\nchmod 600 ${DEPLOY_KEY_PATH}\n\nmkdir -p ~/.ssh\nssh-keyscan -t rsa github.com &gt;&gt; ~/.ssh/known_hosts\n\nmkdir -p ${APP_DIR}\n\nDEPLOY_DIR=${APP_DIR}/${DEPLOY_DIRNAME}\n\nif [ -d \"${DEPLOY_DIR}\" ]; then\n    cd ${DEPLOY_DIR}\n\n    echo \"## Stopping and removing existing containers...\"\n    docker compose down\n\n    echo \"### git pull from github repo...\"\n    GIT_SSH_COMMAND=\"ssh -i ${DEPLOY_KEY_PATH} -o IdentitiesOnly=yes\" \\\n    git pull\nelse\n    echo \"### git clone from github repo...\"\n    GIT_SSH_COMMAND=\"ssh -i ${DEPLOY_KEY_PATH} -o IdentitiesOnly=yes\" \\\n    git clone --depth=1 --filter=blob:none --sparse git@github.com:damoang/ang-gnu-guide.git ${DEPLOY_DIR}\n    cd ${DEPLOY_DIR}\nfi\n\nshred -u ${DEPLOY_KEY_PATH}\n\naws ecr get-login-password --region ${AWS_REGION} | docker login --username AWS --password-stdin ${ECR_REGISTRY_HOST}\n\necho \"### docker pull...\"\ndocker pull ${ECR_IMAGE_NAME}\n\necho \"### create docker tag...\"\ndocker tag ${ECR_IMAGE_NAME} damoang/damoang-guide:latest\n\necho \"### show damoang guide images...\"\ndocker images -f \"label=org.opencontainers.image.title=ang-gnu-guide\"\n\necho \"## Starting containers in detached mode...\"\nexport AWS_REGION=${AWS_REGION}\ndocker compose up -d\n\necho \"Latest image digest: ${ECR_MANIFEST_DIGEST}\"\n\ndocker rmi ${ECR_IMAGE_NAME}\n\necho \"### docker logout...\"\ndocker logout ${ECR_REGISTRY_HOST}\n\necho \"## Deployment script completed.\"\n\"\"\"\n\ndef main() -&gt; None:\n    client = boto3.client(\"ssm\")\n\n    scripts = os.path.expandvars(scripts_template)\n\n    response = client.send_command(\n        InstanceIds=[EC2_INSTANCE_ID],\n        DocumentName=\"AWS-RunShellScript\",\n        Parameters={\"commands\": [scripts]}\n    )\n\n    with open(STEP_SUMMARY, \"a\") as summary_file:\n        command_id = response[\"Command\"][\"CommandId\"]\n        print(f\"{command_id=}\", file=summary_file)\n\n        waiter = client.get_waiter(\"command_executed\")\n        try:\n            waiter.wait(\n                CommandId=command_id,\n                InstanceId=EC2_INSTANCE_ID,\n                WaiterConfig={\"Delay\": 5, \"MaxAttempts\": 10}\n            )\n        except Exception as e:\n            print(f\"error: {e}\", file=summary_file)\n            raise\n        finally:\n            output = client.get_command_invocation(\n                CommandId=command_id,\n                InstanceId=EC2_INSTANCE_ID,\n            )\n\n            print(\"\\n# Execute Results\\n\", file=summary_file)\n            print(output[\"StandardOutputContent\"], file=summary_file)\n\n            if output[\"StandardErrorContent\"]:\n                print(\"\\n# Error Logs\\n\", file=summary_file)\n                print(\"```\\n\", file=summary_file)\n                print(output[\"StandardErrorContent\"], file=summary_file)\n                print(\"\\n```\\n\", file=summary_file)\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#workflows-\uc5c5\ub370\uc774\ud2b8","title":"workflows \uc5c5\ub370\uc774\ud2b8","text":"<p>A workflow \uc5d0\uc11c B workflow \uc2e4\ud589\ud558\uae30</p> <ul> <li>workflow_run<ul> <li>\ub2e4\ub978 workflow \ub97c trigger \ud560 \uc218\ub294 \uc788\uc9c0\ub9cc \uac12\uc744 \uc804\ub2ec\ud560 \uc218\ub294 \uc5c6\uc74c</li> </ul> </li> <li>repository_dispatch<ul> <li>\ub2e4\ub978 workflow \uc5d0 \uac12 \uc804\ub2ec \uac00\ub2a5</li> </ul> </li> </ul>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#build_and_publishyml","title":"build_and_publish.yml","text":"<p>build job \ub9e8 \uc544\ub798 deploy event \ub97c trigger \ud558\ub294 step \ucd94\uac00\ud569\ub2c8\ub2e4.</p> <pre><code>jobs:\n  build:\n    steps:\n      - name: Trigger deploy event\n        if: success() &amp;&amp; github.event_name != 'pull_request'\n        uses: peter-evans/repository-dispatch@v4\n        with:\n          event-type: deploy-event\n          client-payload: '{\"container_registry\": \"${{ env.CONTAINER_REGISTRY }}\"}'\n</code></pre>","tags":["CD/CD","Github Action"]},{"location":"blog/2025/11/05/github-action-%EC%9C%BC%EB%A1%9C-aws-ec2-%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#deployyml","title":"deploy.yml","text":"<p>build_and_publish.yml \uc5d0 \ucd94\uac00\ud55c event-type \uc73c\ub85c repository_dispatch \uc774\ubca4\ud2b8\ub97c \ubc1b\ub3c4\ub85d \uc124\uc815\ud569\ub2c8\ub2e4.</p> <pre><code>name: Deploy to AWS\n\non:\n  repository_dispatch:\n    types: [deploy-event]\n  workflow_dispatch:\n\nenv:\n  CONTAINER_REGISTRY: ${{ github.event.client_payload.container_registry || 'ghcr' }}\n</code></pre>","tags":["CD/CD","Github Action"]},{"location":"blog/2022/04/04/go-ethereum/","title":"Go-ethereum","text":"","tags":["Ethereum"]},{"location":"blog/2022/04/04/go-ethereum/#packages-overview","title":"Packages overview","text":"package description account account management build build package and CI cmd cli tools (geth, evm, abigen, clef, devp2p, ...) common various help function consensus implements consensus engine consensus/beacon Proof Of Stake consensus/clique Proof Of Authority consensus/ethash Proof Of Work console JavaScript interpreted runtime environment(jsre) contracts checkpointoracle? core implements the Ethereum consensus protocol core/asm EVM assembly instructions core/bloombit implements bloom filtering core/forkid implements EIP-2124 core/rawdb collection of low level database accessors core/state caching layer atop Ethereum state trie core/types data types ethereum consensus core/vm implements Ethereum Virtual Machine crypto secp256k1, blake2d, ... eth implements Ethereum protocol eth/catalyst implements Ethereum protocol eth/downloader manual full chain synchronisation eth/ethconfig configuration of the ETH and LES protocols eth/fetcher announcement based header, blocks or transaction synchronisation eth/filters implements an ethereum filtering system for block, transactions and log events eth/gasprice gas price eth/protocols eth, snap eth/tracers manager for transaction tracing engines ethclient client for Ethereum RPC API ethdb defines the interfaces for an Ethereum data store ethstats network stats reporting service event deals with subscriptions to real-time events graphql provides a GraphQL interface to Ethereum node data internal ethapi, debug, jsre, web3ext, ... les implements the Light Ethereum Subprotocol light implements on-demand retrieval capable state and chain objects log fork of log15 library metric fork of go-metrics library miner implements Ethereum block creation and mining mobile simplified mobile APIs to go-ethereum node sets up multi-protocol Ethereum nodes p2p implements the Ethereum p2p network protocols params config, version, network param, protocol param rlp implements the RLP serialization format rpc implements bi-directional JSON-RPC 2.0 on multiple transports signer core, fourbyte, rules, storage trie implements Merkle Patricia Tries","tags":["Ethereum"]},{"location":"blog/2022/03/02/github-action/","title":"Github Action","text":"","tags":["CI/CD","Github Action"]},{"location":"blog/2022/03/02/github-action/#cicd","title":"CI/CD","text":"<ul> <li>Continuous Integration and Continuous Delivery</li> <li>automate your build, test and deployment</li> </ul>","tags":["CI/CD","Github Action"]},{"location":"blog/2022/03/02/github-action/#components","title":"Components","text":"<ul> <li>workflow</li> <li>events</li> <li>push, pull_request, schedule, workflow_dispatch...</li> <li>jobs</li> <li>build, deploy...</li> <li>actions</li> <li>checkout, setup-python...</li> <li>runners</li> <li>ubuntu linux, MS windows, macos</li> </ul>","tags":["CI/CD","Github Action"]},{"location":"blog/2022/03/02/github-action/#quick-start","title":"Quick start","text":"","tags":["CI/CD","Github Action"]},{"location":"blog/2022/03/02/github-action/#first-example","title":"first example","text":"<ul> <li>.github/workflows \uc5d0 <code>first.yml</code> \uc744 \ub9cc\ub4e4\uace0 \uc544\ub798 \ub0b4\uc6a9\uc744 \ubd99\uc5ec \ub123\ub294\ub2e4.</li> </ul> <pre><code>name: GitHub Actions Demo\non: [push]\njobs:\n  Explore-GitHub-Actions:\n    runs-on: ubuntu-latest\n    steps:\n      - run: echo \"\ud83c\udf89 The job was automatically triggered by a ${{ github.event_name }} event.\"\n      - run: echo \"\ud83d\udc27 This job is now running on a ${{ runner.os }} server hosted by GitHub!\"\n      - run: echo \"\ud83d\udd0e The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}.\"\n      - name: Check out repository code\n        uses: actions/checkout@v2\n      - run: echo \"\ud83d\udca1 The ${{ github.repository }} repository has been cloned to the runner.\"\n      - run: echo \"\ud83d\udda5\ufe0f The workflow is now ready to test your code on the runner.\"\n      - name: List files in the repository\n        run: |\n          ls ${{ github.workspace }}\n      - run: echo \"\ud83c\udf4f This job's status is ${{ job.status }}.\"\n</code></pre>","tags":["CI/CD","Github Action"]},{"location":"blog/2022/03/02/github-action/#build-and-testci","title":"Build and Test(CI)","text":"","tags":["CI/CD","Github Action"]},{"location":"blog/2022/03/02/github-action/#python-example","title":"python example","text":"<p>build and test python</p> <pre><code>name: Python package\n\non: [push]\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n    strategy:\n      matrix:\n        python-version: [3.6, 3.7, 3.8, 3.9]\n\n    steps:\n      - uses: actions/checkout@v2\n      - name: Set up Python ${{ matrix.python-version }}\n        uses: actions/setup-python@v2\n        with:\n          python-version: ${{ matrix.python-version }}\n      - name: Install dependencies\n        run: |\n          python -m pip install --upgrade pip\n          pip install flake8 pytest\n          if [ -f requirements.txt ]; then pip install -r requirements.txt; fi\n      - name: Lint with flake8\n        run: |\n          # stop the build if there are Python syntax errors or undefined names\n          flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics\n          # exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide\n          flake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics\n      - name: Test with pytest\n        run: |\n          pytest\n</code></pre> <ul> <li>events</li> <li>jobs</li> <li>runs-on</li> <li>strategy</li> <li>steps</li> </ul>","tags":["CI/CD","Github Action"]},{"location":"blog/2022/03/02/github-action/#deploymentcd","title":"deployment(CD)","text":"","tags":["CI/CD","Github Action"]},{"location":"blog/2022/03/02/github-action/#deploy-docker-to-aws","title":"deploy docker to AWS","text":"<ul> <li>workflow example</li> </ul> <pre><code>name: Deploy to Amazon ECS\n\non:\n  push:\n    branches:\n      - main\n\nenv:\n  AWS_REGION: MY_AWS_REGION                   # (1)\n  ECR_REPOSITORY: MY_ECR_REPOSITORY           # (2)\n  ECS_SERVICE: MY_ECS_SERVICE                 # (3)\n  ECS_CLUSTER: MY_ECS_CLUSTER                 # (4)\n  ECS_TASK_DEFINITION: MY_ECS_TASK_DEFINITION # (5)\n  CONTAINER_NAME: MY_CONTAINER_NAME           # (6)\n\njobs:\n  deploy:\n    name: Deploy\n    runs-on: ubuntu-latest\n    environment: production\n\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v5\n\n      - name: Configure AWS credentials\n        uses: aws-actions/configure-aws-credentials@0e613a0980cbf65ed5b322eb7a1e075d28913a83\n        with:\n          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}\n          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n          aws-region: ${{ env.AWS_REGION }}\n\n      - name: Login to Amazon ECR\n        id: login-ecr\n        uses: aws-actions/amazon-ecr-login@62f4f872db3836360b72999f4b87f1ff13310f3a\n\n      - name: Build, tag, and push image to Amazon ECR\n        id: build-image\n        env:\n          ECR_REGISTRY: ${{ steps.login-ecr.outputs.registry }}\n          IMAGE_TAG: ${{ github.sha }}\n        run: |\n          # Build a docker container and\n          # push it to ECR so that it can\n          # be deployed to ECS.\n          docker build -t $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG .\n          docker push $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG\n          echo \"image=$ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG\" &gt;&gt; $GITHUB_OUTPUT\n\n      - name: Fill in the new image ID in the Amazon ECS task definition\n        id: task-def\n        uses: aws-actions/amazon-ecs-render-task-definition@c804dfbdd57f713b6c079302a4c01db7017a36fc\n        with:\n          task-definition: ${{ env.ECS_TASK_DEFINITION }}\n          container-name: ${{ env.CONTAINER_NAME }}\n          image: ${{ steps.build-image.outputs.image }}\n\n      - name: Deploy Amazon ECS task definition\n        uses: aws-actions/amazon-ecs-deploy-task-definition@df9643053eda01f169e64a0e60233aacca83799a\n        with:\n          task-definition: ${{ steps.task-def.outputs.task-definition }}\n          service: ${{ env.ECS_SERVICE }}\n          cluster: ${{ env.ECS_CLUSTER }}\n          wait-for-service-stability: true\n</code></pre> <ol> <li>set this to your preferred AWS region, e.g. us-west-1</li> <li>set this to your Amazon ECR repository name</li> <li>set this to your Amazon ECS service name</li> <li>set this to your Amazon ECS cluster name</li> <li>set this to the path to your Amazon ECS task definition     file, e.g. .aws/task-definition.json</li> <li>set this to the name of the container in the     containerDefinitions section of your task definition</li> </ol>","tags":["CI/CD","Github Action"]},{"location":"blog/2022/03/02/github-action/#deploy-docker-to-azure","title":"deploy docker to azure","text":"<ul> <li>workflow example</li> </ul> <pre><code>name: Build and deploy a container to an Azure Web App\n\nenv:\n  AZURE_WEBAPP_NAME: MY_WEBAPP_NAME # (1)\n\non:\n  push:\n    branches:\n      - main\n\npermissions:\n  contents: 'read'\n  packages: 'write'\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v5\n\n      - name: Set up Docker Buildx\n        uses: docker/setup-buildx-action@7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b\n\n      - name: Log in to GitHub container registry\n        uses: docker/login-action@8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d\n        with:\n          registry: ghcr.io\n          username: ${{ github.actor }}\n          password: ${{ secrets.GITHUB_TOKEN }}\n\n      - name: Lowercase the repo name\n        run: echo \"REPO=${GITHUB_REPOSITORY,,}\" &gt;&gt;${GITHUB_ENV}\n\n      - name: Build and push container image to registry\n        uses: docker/build-push-action@9e0f1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f\n        with:\n          push: true\n          tags: ghcr.io/${{ env.REPO }}:${{ github.sha }}\n          file: ./Dockerfile\n\n  deploy:\n    runs-on: ubuntu-latest\n\n    needs: build\n\n    environment:\n      name: 'production'\n      url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\n\n    steps:\n      - name: Lowercase the repo name\n        run: echo \"REPO=${GITHUB_REPOSITORY,,}\" &gt;&gt;${GITHUB_ENV}\n\n      - name: Deploy to Azure Web App\n        id: deploy-to-webapp\n        uses: azure/webapps-deploy@85270a1854658d167ab239bce43949edb336fa7c\n        with:\n          app-name: ${{ env.AZURE_WEBAPP_NAME }}\n          publish-profile: ${{ secrets.AZURE_WEBAPP_PUBLISH_PROFILE }}\n          images: 'ghcr.io/${{ env.REPO }}:${{ github.sha }}'\n</code></pre> <ol> <li>set this to your application's name</li> </ol>","tags":["CI/CD","Github Action"]},{"location":"blog/2022/03/02/github-action/#practical-example","title":"Practical example","text":"<ul> <li>icon-sdk-python</li> </ul>","tags":["CI/CD","Github Action"]},{"location":"blog/2022/03/02/github-action/#learn-more","title":"Learn more","text":"<ul> <li>Expressions</li> <li>Contexts</li> <li>Workflow syntax</li> </ul>","tags":["CI/CD","Github Action"]},{"location":"blog/2022/03/02/github-action/#etc","title":"Etc.","text":"<ul> <li>run locally</li> <li>awesome actions</li> </ul> <p>self learning github action : learning lab</p>","tags":["CI/CD","Github Action"]},{"location":"blog/archive/2025/","title":"2025","text":""},{"location":"blog/archive/2022/","title":"2022","text":""},{"location":"blog/category/devops/","title":"DevOps","text":""},{"location":"blog/category/blockchain/","title":"Blockchain","text":""}]}